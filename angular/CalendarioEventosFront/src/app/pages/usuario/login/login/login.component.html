<app-menu></app-menu>

<div class="container ">
    <form [formGroup]="formGroup" class="login-card card">
        <h2 class="text-center">Login</h2>
        <div class="">
            <label for="username" class="label">E-mail ou Username</label>
            <input id="username" type="text" class="form-control input" formControlName="username" [ngClass]="{
                    'is-valid': formGroup.get('username')?.valid,
                    'is-invalid': formGroup.get('username')?.invalid && (formGroup.get('username')?.touched || formGroup.get('username')?.dirty)
                }">
            <ul
                *ngIf="formGroup.get('username')?.invalid && (formGroup.get('username')?.touched || formGroup.get('username')?.dirty)">
                <li *ngIf="formGroup.get('username')?.hasError('username')">E-mail inv√°lido</li>
            </ul>
        </div>
        <div class="position-relative">
            <div>
                <label for="password" class="label">Senha</label>
                <input [type]="showPassword ? 'text' : 'password'" class="form-control input" id="password"
                    formControlName="password" [ngClass]="{
                            'is-valid': formGroup.get('password')?.valid,
                            'is-invalid': formGroup.get('password')?.invalid && (formGroup.get('password')?.touched || formGroup.get('password')?.dirty)
                        }">
            </div>
            <button class="eye" (click)="togglePasswordVisibility()">
                <fa-icon [icon]="['fas', 'eye-slash']" *ngIf="!showPassword"></fa-icon>
                <fa-icon [icon]="['fas', 'eye']" *ngIf="showPassword"></fa-icon>
            </button>
        </div>
        <div class="d-flex justify-content-center p-5">
            <button class="btn btn-primary col-6 mx-auto"
                (click)="login(formGroup.get('username')?.value, formGroup.get('password')?.value)">Login</button>
        </div>
    </form>
</div>